# [Business Process Exception Management (BPEM)](#BPEM)


## [Content](#content)

- [Business Process Exception Management (BPEM)](BPEM.md):
    - [Introduction](#introduction)
    - [Advantages of Using BPEM](#advantages)
    - [BPEM Processes and Transactions](#process)
    - [Clarification Case Categories](#categories)

 

### Introduction

> [Business Process Exception Management (BPEM)](#BPEM) > [Content](#content) > [This section](#Introduction)

SAP created Business Process Exception Management (BPEM) to help users handle process exceptions effectively. The primary goal of BPEM is to present a concise overview of system operations and to manage exceptions efficiently. It gives users an overview of chosen business processes within the SAP environment, mainly by automatically assessing application log messages. Through BPEM, users can monitor all activities related to application log analysis, especially those generated by high-volume batch processing (mass activities) as well as real-time processing. This functionality saves agents significant time and boosts productivity by eliminating the need for manual retrieval of information from the system.

When issues are detected, BPEM allows the creation of clarification cases that can be assigned to specific agents or teams for further investigation and resolution. Automatically generated clarification cases enable a structured, guided approach to resolving issues, ensuring cases are routed to the appropriate departments or agents for swift resolution. As agents work through these cases, tracking their resolution can help improve business process quality and performance over time.

Managing these issues manually is usually time-consuming, but BPEM simplifies the process by reducing the time needed for log analysis and allowing direct navigation from error messages to the associated business objects, streamlining issue resolution. 


### Advantages of Using BPEM

> [Business Process Exception Management (BPEM)](#BPEM) > [Content](#content) > [This section](#advantages)

The key advantages of using BPEM include:

- Centralized tracking of business processes
- Statistical analysis of messages and business objects processed
- Unified monitoring of exception handling
- Lower administrative workload
- Capability to assign clarification cases to specific departments or individuals
- Prioritization of cases based on custom settings and business object attributes
- Organized worklists prioritizing clarification cases
- Exception resolution through manual, semi-automated, and automated processes
- Business process analytics
- Reduced exception rates, resulting in smoother business processes
- Lower operating costs through efficient exception management

### BPEM Processes and Transactions

> [Business Process Exception Management (BPEM)](#BPEM) > [Content](#content) > [This section](#process)

Business processes store their error mensages and additional information in application logs and crete an entry in the BPEM job list.  Starting from this entry, BPEM can pick up the stored information from any place and make it available to the agents.

Once the business process finished the BPEM process supports these five main steps: 

1- **Error are monitor by administration / BPEM job preparation:**

BPEM gathers relevant application information from all storage locations within the application, evaluates its importance, and organizes it by system timestamp and associated business object. It identifies failed business objects based on error and warning messages, consolidates this collected data, and stores it in BPEM-specific database tables for efficient future access. Some important transaction related to this step are: 

 - `FPEMMAMA` -> BPEM: Mass Activity
 - `EMMAJP`   -> Business Process Analysis: Process Jobs
 - `EMMAJL`   -> Business Process Analysis: Job List


2- **Clarification cases are created either automatically/manually/BAPI's:**

BPEM compares the collected error data and and the related business objects with conditions described in the defined clarification case categories. Then when the conditions are matched a clarification case. 
The clarification cases can be generated  manually by: 

- Transaction `EMMAC1` ->  Create Clarification Cases
- BAPI `BAPI_EMMA_CASE_CREATE` -> Create Clarification Case Manually
- BOR Method `EMMACase.Create` ->  Create Clarification Case Manually


3- **Clarification cases are distributed or forwarded to various groups to work on:** 

A clarification case can be assigned and routed to a specific agent or agent group based on the processor determination rule defined in the clarification case category. There is no specific transaction for the automatic distribution of clarification cases, as the processor determination rule is applied immediately after the clarification case is created in process step 2. Some important transaction related to this step are: 

 - `EMMACL`  -> Clarification Case List
 - `EMMACLS` -> Clarification Case List with Shortcut Keys

4- **Back office completes clarification cases/ Resolution and Completion of Clarification Cases:**

Agents analyze and resolve the clarification case supported by the information and solution processes as presented in the clarification case. The system documents the result of the analysis of the business exceptions and executed solution processes in an application log.
Some important transaction related to this step are: 

 - `EMMAC2`   -> Change a Clarification Case
 - `EMMAC3`   -> Display a Clarification Case

The system can execute solution processes of clarification cases if you marked these solution processes as automatic solution processes for that the following transations could be important: 

 - `FPEMMAMA` -> BPEM: Mass Activity
 - `EMMAJP`   -> Business Process Analysis: Process Jobs
 - `EMMACAP`  -> Execute Automatic Solution Processes


5- **Transfer of KPIs to Business Information Warehouse:**

In this process step, key data from clarification cases is extracted to a business information warehouse to evaluate business process performance. This capability is accessible across all applications. Additionally, specialized extractors are available for SAP for Utilities processes, allowing for further data extraction, including statistics on successful and failed business processes specific to SAP for Utilities.


###  Clarification Case Categories

> [Business Process Exception Management (BPEM)](#BPEM) > [Content](#content) > [This section](#categories)


The system can automatically generate clarification cases if application error messages match the triggering messages defined in a clarification case category. Each category is tied to a specific business process and acts as a template for creating cases. Multiple categories can be set for each process, with conditions that determine which category should be used based on different types of exceptions. Each exception is identified by specific error or warning messages, which serve as the basis for creating cases. Solution processes can also be defined to help agents identify and resolve the issue efficiently.

Some important transaction related to Clarification Case Categories are: 

`EMMACCAT1`  -> Create Clarification Case Category
`EMMACCAT1M` -> Create Clarification Case Category from Message
`EMMACCAT2`  -> Change Clarification Case Category
`EMMACCAT3`  -> Display Clarification Case Category
`EMMACCAT4`  -> Delete Clarification Case Category
`EMMACCAT5`  -> Add Clarification Case Category to Transport Request


The elements are stored in what is called the Clarification Case Container. When you double-click on a category within the Clarification Case Categories, a new window opens, showing the details of the selected category.

![image](https://github.com/user-attachments/assets/ee8b8290-22d2-4068-baad-f7646e2b7b87)


En esta transaciones es posible consultar toda la informacion desde la infomacion basica, la pool de mensages, objetos ( dados that will be shown as inputs in the solucion processes, definicion of regras especiais or informaciones exibidas em el caso de esclarecimento). In this transacion is posible to see the descriptions screen, that contain detailed documentation to support the agent resolving the clarification case efficiently. The Processes screen define the list of solution processes that shall help the agents to resolve the clarification case, each acion as an Modulo de funciones associated. Note that Solution processes can be executed either automatically or manually. 

In this transaction, it is possible to view all information, including basic details, the message pool, objects (data that will appear as inputs in the solution processes and the definition of special rules or information displayed in the clarification case). Within this transaction, you can also access the description screen, which contains detailed documentation to support the agent in efficiently resolving the clarification case. The Processes screen defines a list of solution processes designed to assist agents in handling the clarification case, with each action linked to a functional module. Note that solution processes can be executed either automatically or manually.

![image](https://github.com/user-attachments/assets/3e7bd8a6-f84f-4960-b83b-1b0badc92523)







